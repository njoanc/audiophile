import{R as $,u as rr,j as a,r as me}from"./index-CUqJ_sM4.js";var xe=e=>e.type==="checkbox",ne=e=>e instanceof Date,T=e=>e==null;const tr=e=>typeof e=="object";var D=e=>!T(e)&&!Array.isArray(e)&&tr(e)&&!ne(e),pr=e=>D(e)&&e.target?xe(e.target)?e.target.checked:e.target.value:e,gr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,br=(e,s)=>e.has(gr(s)),vr=e=>{const s=e.constructor&&e.constructor.prototype;return D(s)&&s.hasOwnProperty("isPrototypeOf")},Ee=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function I(e){let s;const t=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Ee&&(e instanceof Blob||e instanceof FileList))&&(t||D(e)))if(s=t?[]:{},!t&&!vr(e))s=e;else for(const c in e)e.hasOwnProperty(c)&&(s[c]=I(e[c]));else return e;return s}var he=e=>Array.isArray(e)?e.filter(Boolean):[],A=e=>e===void 0,h=(e,s,t)=>{if(!s||!D(e))return t;const c=he(s.split(/[,[\].]+?/)).reduce((o,l)=>T(o)?o:o[l],e);return A(c)||c===e?A(e[s])?t:e[s]:c},X=e=>typeof e=="boolean",Me=e=>/^\w*$/.test(e),sr=e=>he(e.replace(/["|']|\]/g,"").split(/\.|\[/)),N=(e,s,t)=>{let c=-1;const o=Me(s)?[s]:sr(s),l=o.length,y=l-1;for(;++c<l;){const x=o[c];let M=t;if(c!==y){const R=e[x];M=D(R)||Array.isArray(R)?R:isNaN(+o[c+1])?{}:[]}if(x==="__proto__")return;e[x]=M,e=e[x]}return e};const He={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Q={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};$.createContext(null);var jr=(e,s,t,c=!0)=>{const o={defaultValues:s._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const y=l;return s._proxyFormState[y]!==G.all&&(s._proxyFormState[y]=!c||G.all),e[y]}});return o},q=e=>D(e)&&!Object.keys(e).length,Nr=(e,s,t,c)=>{t(e);const{name:o,...l}=e;return q(l)||Object.keys(l).length>=Object.keys(s).length||Object.keys(l).find(y=>s[y]===G.all)},Fe=e=>Array.isArray(e)?e:[e];function wr(e){const s=$.useRef(e);s.current=e,$.useEffect(()=>{const t=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}var Y=e=>typeof e=="string",_r=(e,s,t,c,o)=>Y(e)?(c&&s.watch.add(e),h(t,e,o)):Array.isArray(e)?e.map(l=>(c&&s.watch.add(l),h(t,l))):(c&&(s.watchAll=!0),t),Ar=(e,s,t,c,o)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[c]:o||!0}}:{},ze=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched}),Ge=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(c=>e.startsWith(c)&&/^\.\w+/.test(e.slice(c.length))));const fe=(e,s,t,c)=>{for(const o of t||Object.keys(e)){const l=h(e,o);if(l){const{_f:y,...x}=l;if(y){if(y.refs&&y.refs[0]&&s(y.refs[0],o)&&!c)break;if(y.ref&&s(y.ref,y.name)&&!c)break;fe(x,s)}else D(x)&&fe(x,s)}}};var Vr=(e,s,t)=>{const c=he(h(e,t));return N(c,"root",s[t]),N(e,t,c),e},Ce=e=>e.type==="file",ee=e=>typeof e=="function",be=e=>{if(!Ee)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ge=e=>Y(e),Te=e=>e.type==="radio",ve=e=>e instanceof RegExp;const Ke={value:!1,isValid:!1},Ze={value:!0,isValid:!0};var ir=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!A(e[0].attributes.value)?A(e[0].value)||e[0].value===""?Ze:{value:e[0].value,isValid:!0}:Ze:Ke}return Ke};const Ye={isValid:!1,value:null};var lr=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,Ye):Ye;function Je(e,s,t="validate"){if(ge(e)||Array.isArray(e)&&e.every(ge)||X(e)&&!e)return{type:t,message:ge(e)?e:"",ref:s}}var ae=e=>D(e)&&!ve(e)?e:{value:e,message:""},Qe=async(e,s,t,c,o)=>{const{ref:l,refs:y,required:x,maxLength:M,minLength:R,min:w,max:p,pattern:te,validate:K,name:C,valueAsNumber:se,mount:W,disabled:H}=e._f,b=h(s,C);if(!W||H)return{};const L=y?y[0]:l,P=g=>{c&&L.reportValidity&&(L.setCustomValidity(X(g)?"":g||""),L.reportValidity())},_={},J=Te(l),S=xe(l),Z=J||S,ie=(se||Ce(l))&&A(l.value)&&A(b)||be(l)&&l.value===""||b===""||Array.isArray(b)&&!b.length,U=Ar.bind(null,C,t,_),ye=(g,v,F,E=Q.maxLength,z=Q.minLength)=>{const B=g?v:F;_[C]={type:g?E:z,message:B,ref:l,...U(g?E:z,B)}};if(o?!Array.isArray(b)||!b.length:x&&(!Z&&(ie||T(b))||X(b)&&!b||S&&!ir(y).isValid||J&&!lr(y).isValid)){const{value:g,message:v}=ge(x)?{value:!!x,message:x}:ae(x);if(g&&(_[C]={type:Q.required,message:v,ref:L,...U(Q.required,v)},!t))return P(v),_}if(!ie&&(!T(w)||!T(p))){let g,v;const F=ae(p),E=ae(w);if(!T(b)&&!isNaN(b)){const z=l.valueAsNumber||b&&+b;T(F.value)||(g=z>F.value),T(E.value)||(v=z<E.value)}else{const z=l.valueAsDate||new Date(b),B=de=>new Date(new Date().toDateString()+" "+de),ce=l.type=="time",oe=l.type=="week";Y(F.value)&&b&&(g=ce?B(b)>B(F.value):oe?b>F.value:z>new Date(F.value)),Y(E.value)&&b&&(v=ce?B(b)<B(E.value):oe?b<E.value:z<new Date(E.value))}if((g||v)&&(ye(!!g,F.message,E.message,Q.max,Q.min),!t))return P(_[C].message),_}if((M||R)&&!ie&&(Y(b)||o&&Array.isArray(b))){const g=ae(M),v=ae(R),F=!T(g.value)&&b.length>+g.value,E=!T(v.value)&&b.length<+v.value;if((F||E)&&(ye(F,g.message,v.message),!t))return P(_[C].message),_}if(te&&!ie&&Y(b)){const{value:g,message:v}=ae(te);if(ve(g)&&!b.match(g)&&(_[C]={type:Q.pattern,message:v,ref:l,...U(Q.pattern,v)},!t))return P(v),_}if(K){if(ee(K)){const g=await K(b,s),v=Je(g,L);if(v&&(_[C]={...v,...U(Q.validate,v.message)},!t))return P(v.message),_}else if(D(K)){let g={};for(const v in K){if(!q(g)&&!t)break;const F=Je(await K[v](b,s),L,v);F&&(g={...F,...U(v,F.message)},P(F.message),t&&(_[C]=g))}if(!q(g)&&(_[C]={ref:L,...g},!t))return _}}return P(!0),_};function Fr(e,s){const t=s.slice(0,-1).length;let c=0;for(;c<t;)e=A(e)?c++:e[s[c++]];return e}function kr(e){for(const s in e)if(e.hasOwnProperty(s)&&!A(e[s]))return!1;return!0}function k(e,s){const t=Array.isArray(s)?s:Me(s)?[s]:sr(s),c=t.length===1?e:Fr(e,t),o=t.length-1,l=t[o];return c&&delete c[l],o!==0&&(D(c)&&q(c)||Array.isArray(c)&&kr(c))&&k(e,t.slice(0,-1)),e}var ke=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}},je=e=>T(e)||!tr(e);function re(e,s){if(je(e)||je(s))return e===s;if(ne(e)&&ne(s))return e.getTime()===s.getTime();const t=Object.keys(e),c=Object.keys(s);if(t.length!==c.length)return!1;for(const o of t){const l=e[o];if(!c.includes(o))return!1;if(o!=="ref"){const y=s[o];if(ne(l)&&ne(y)||D(l)&&D(y)||Array.isArray(l)&&Array.isArray(y)?!re(l,y):l!==y)return!1}}return!0}var ar=e=>e.type==="select-multiple",Dr=e=>Te(e)||xe(e),De=e=>be(e)&&e.isConnected,nr=e=>{for(const s in e)if(ee(e[s]))return!0;return!1};function Ne(e,s={}){const t=Array.isArray(e);if(D(e)||t)for(const c in e)Array.isArray(e[c])||D(e[c])&&!nr(e[c])?(s[c]=Array.isArray(e[c])?[]:{},Ne(e[c],s[c])):T(e[c])||(s[c]=!0);return s}function cr(e,s,t){const c=Array.isArray(e);if(D(e)||c)for(const o in e)Array.isArray(e[o])||D(e[o])&&!nr(e[o])?A(s)||je(t[o])?t[o]=Array.isArray(e[o])?Ne(e[o],[]):{...Ne(e[o])}:cr(e[o],T(s)?{}:s[o],t[o]):t[o]=!re(e[o],s[o]);return t}var pe=(e,s)=>cr(e,s,Ne(s)),or=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:c})=>A(e)?e:s?e===""?NaN:e&&+e:t&&Y(e)?new Date(e):c?c(e):e;function Se(e){const s=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):s.disabled))return Ce(s)?s.files:Te(s)?lr(e.refs).value:ar(s)?[...s.selectedOptions].map(({value:t})=>t):xe(s)?ir(e.refs).value:or(A(s.value)?e.ref.value:s.value,e)}var Sr=(e,s,t,c)=>{const o={};for(const l of e){const y=h(s,l);y&&N(o,l,y._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:c}},ue=e=>A(e)?e:ve(e)?e.source:D(e)?ve(e.value)?e.value.source:e.value:e,Er=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Xe(e,s,t){const c=h(e,t);if(c||Me(t))return{error:c,name:t};const o=t.split(".");for(;o.length;){const l=o.join("."),y=h(s,l),x=h(e,l);if(y&&!Array.isArray(y)&&t!==l)return{name:t};if(x&&x.type)return{name:l,error:x};o.pop()}return{name:t}}var Mr=(e,s,t,c,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(s||e):(t?c.isOnBlur:o.isOnBlur)?!e:(t?c.isOnChange:o.isOnChange)?e:!0,Cr=(e,s)=>!he(h(e,s)).length&&k(e,s);const Tr={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function Or(e={}){let s={...Tr,...e},t={submitCount:0,isDirty:!1,isLoading:ee(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},c={},o=D(s.defaultValues)||D(s.values)?I(s.defaultValues||s.values)||{}:{},l=s.shouldUnregister?{}:I(o),y={action:!1,mount:!1,watch:!1},x={mount:new Set,unMount:new Set,array:new Set,watch:new Set},M,R=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:ke(),array:ke(),state:ke()},te=ze(s.mode),K=ze(s.reValidateMode),C=s.criteriaMode===G.all,se=r=>i=>{clearTimeout(R),R=setTimeout(r,i)},W=async r=>{if(w.isValid||r){const i=s.resolver?q((await Z()).errors):await U(c,!0);i!==t.isValid&&p.state.next({isValid:i})}},H=(r,i)=>{(w.isValidating||w.validatingFields)&&((r||Array.from(x.mount)).forEach(n=>{n&&(i?N(t.validatingFields,n,i):k(t.validatingFields,n))}),p.state.next({validatingFields:t.validatingFields,isValidating:!q(t.validatingFields)}))},b=(r,i=[],n,f,u=!0,d=!0)=>{if(f&&n){if(y.action=!0,d&&Array.isArray(h(c,r))){const m=n(h(c,r),f.argA,f.argB);u&&N(c,r,m)}if(d&&Array.isArray(h(t.errors,r))){const m=n(h(t.errors,r),f.argA,f.argB);u&&N(t.errors,r,m),Cr(t.errors,r)}if(w.touchedFields&&d&&Array.isArray(h(t.touchedFields,r))){const m=n(h(t.touchedFields,r),f.argA,f.argB);u&&N(t.touchedFields,r,m)}w.dirtyFields&&(t.dirtyFields=pe(o,l)),p.state.next({name:r,isDirty:g(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else N(l,r,i)},L=(r,i)=>{N(t.errors,r,i),p.state.next({errors:t.errors})},P=r=>{t.errors=r,p.state.next({errors:t.errors,isValid:!1})},_=(r,i,n,f)=>{const u=h(c,r);if(u){const d=h(l,r,A(n)?h(o,r):n);A(d)||f&&f.defaultChecked||i?N(l,r,i?d:Se(u._f)):E(r,d),y.mount&&W()}},J=(r,i,n,f,u)=>{let d=!1,m=!1;const j={name:r},V=!!(h(c,r)&&h(c,r)._f.disabled);if(!n||f){w.isDirty&&(m=t.isDirty,t.isDirty=j.isDirty=g(),d=m!==j.isDirty);const O=V||re(h(o,r),i);m=!!(!V&&h(t.dirtyFields,r)),O||V?k(t.dirtyFields,r):N(t.dirtyFields,r,!0),j.dirtyFields=t.dirtyFields,d=d||w.dirtyFields&&m!==!O}if(n){const O=h(t.touchedFields,r);O||(N(t.touchedFields,r,n),j.touchedFields=t.touchedFields,d=d||w.touchedFields&&O!==n)}return d&&u&&p.state.next(j),d?j:{}},S=(r,i,n,f)=>{const u=h(t.errors,r),d=w.isValid&&X(i)&&t.isValid!==i;if(e.delayError&&n?(M=se(()=>L(r,n)),M(e.delayError)):(clearTimeout(R),M=null,n?N(t.errors,r,n):k(t.errors,r)),(n?!re(u,n):u)||!q(f)||d){const m={...f,...d&&X(i)?{isValid:i}:{},errors:t.errors,name:r};t={...t,...m},p.state.next(m)}},Z=async r=>{H(r,!0);const i=await s.resolver(l,s.context,Sr(r||x.mount,c,s.criteriaMode,s.shouldUseNativeValidation));return H(r),i},ie=async r=>{const{errors:i}=await Z(r);if(r)for(const n of r){const f=h(i,n);f?N(t.errors,n,f):k(t.errors,n)}else t.errors=i;return i},U=async(r,i,n={valid:!0})=>{for(const f in r){const u=r[f];if(u){const{_f:d,...m}=u;if(d){const j=x.array.has(d.name);H([f],!0);const V=await Qe(u,l,C,s.shouldUseNativeValidation&&!i,j);if(H([f]),V[d.name]&&(n.valid=!1,i))break;!i&&(h(V,d.name)?j?Vr(t.errors,V,d.name):N(t.errors,d.name,V[d.name]):k(t.errors,d.name))}m&&await U(m,i,n)}}return n.valid},ye=()=>{for(const r of x.unMount){const i=h(c,r);i&&(i._f.refs?i._f.refs.every(n=>!De(n)):!De(i._f.ref))&&we(r)}x.unMount=new Set},g=(r,i)=>(r&&i&&N(l,r,i),!re(Oe(),o)),v=(r,i,n)=>_r(r,x,{...y.mount?l:A(i)?o:Y(r)?{[r]:i}:i},n,i),F=r=>he(h(y.mount?l:o,r,e.shouldUnregister?h(o,r,[]):[])),E=(r,i,n={})=>{const f=h(c,r);let u=i;if(f){const d=f._f;d&&(!d.disabled&&N(l,r,or(i,d)),u=be(d.ref)&&T(i)?"":i,ar(d.ref)?[...d.ref.options].forEach(m=>m.selected=u.includes(m.value)):d.refs?xe(d.ref)?d.refs.length>1?d.refs.forEach(m=>(!m.defaultChecked||!m.disabled)&&(m.checked=Array.isArray(u)?!!u.find(j=>j===m.value):u===m.value)):d.refs[0]&&(d.refs[0].checked=!!u):d.refs.forEach(m=>m.checked=m.value===u):Ce(d.ref)?d.ref.value="":(d.ref.value=u,d.ref.type||p.values.next({name:r,values:{...l}})))}(n.shouldDirty||n.shouldTouch)&&J(r,u,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&de(r)},z=(r,i,n)=>{for(const f in i){const u=i[f],d=`${r}.${f}`,m=h(c,d);(x.array.has(r)||!je(u)||m&&!m._f)&&!ne(u)?z(d,u,n):E(d,u,n)}},B=(r,i,n={})=>{const f=h(c,r),u=x.array.has(r),d=I(i);N(l,r,d),u?(p.array.next({name:r,values:{...l}}),(w.isDirty||w.dirtyFields)&&n.shouldDirty&&p.state.next({name:r,dirtyFields:pe(o,l),isDirty:g(r,d)})):f&&!f._f&&!T(d)?z(r,d,n):E(r,d,n),Ge(r,x)&&p.state.next({...t}),p.values.next({name:y.mount?r:void 0,values:{...l}})},ce=async r=>{y.mount=!0;const i=r.target;let n=i.name,f=!0;const u=h(c,n),d=()=>i.type?Se(u._f):pr(r),m=j=>{f=Number.isNaN(j)||j===h(l,n,j)};if(u){let j,V;const O=d(),le=r.type===He.BLUR||r.type===He.FOCUS_OUT,hr=!Er(u._f)&&!s.resolver&&!h(t.errors,n)&&!u._f.deps||Mr(le,h(t.touchedFields,n),t.isSubmitted,K,te),Ae=Ge(n,x,le);N(l,n,O),le?(u._f.onBlur&&u._f.onBlur(r),M&&M(0)):u._f.onChange&&u._f.onChange(r);const Ve=J(n,O,le,!1),yr=!q(Ve)||Ae;if(!le&&p.values.next({name:n,type:r.type,values:{...l}}),hr)return w.isValid&&W(),yr&&p.state.next({name:n,...Ae?{}:Ve});if(!le&&Ae&&p.state.next({...t}),s.resolver){const{errors:$e}=await Z([n]);if(m(O),f){const mr=Xe(t.errors,c,n),We=Xe($e,c,mr.name||n);j=We.error,n=We.name,V=q($e)}}else H([n],!0),j=(await Qe(u,l,C,s.shouldUseNativeValidation))[n],H([n]),m(O),f&&(j?V=!1:w.isValid&&(V=await U(c,!0)));f&&(u._f.deps&&de(u._f.deps),S(n,V,j,Ve))}},oe=(r,i)=>{if(h(t.errors,i)&&r.focus)return r.focus(),1},de=async(r,i={})=>{let n,f;const u=Fe(r);if(s.resolver){const d=await ie(A(r)?r:u);n=q(d),f=r?!u.some(m=>h(d,m)):n}else r?(f=(await Promise.all(u.map(async d=>{const m=h(c,d);return await U(m&&m._f?{[d]:m}:m)}))).every(Boolean),!(!f&&!t.isValid)&&W()):f=n=await U(c);return p.state.next({...!Y(r)||w.isValid&&n!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:n}:{},errors:t.errors}),i.shouldFocus&&!f&&fe(c,oe,r?u:x.mount),f},Oe=r=>{const i={...y.mount?l:o};return A(r)?i:Y(r)?h(i,r):r.map(n=>h(i,n))},qe=(r,i)=>({invalid:!!h((i||t).errors,r),isDirty:!!h((i||t).dirtyFields,r),isTouched:!!h((i||t).touchedFields,r),isValidating:!!h((i||t).validatingFields,r),error:h((i||t).errors,r)}),dr=r=>{r&&Fe(r).forEach(i=>k(t.errors,i)),p.state.next({errors:r?t.errors:{}})},Re=(r,i,n)=>{const f=(h(c,r,{_f:{}})._f||{}).ref,u=h(t.errors,r)||{},{ref:d,message:m,type:j,...V}=u;N(t.errors,r,{...V,...i,ref:f}),p.state.next({name:r,errors:t.errors,isValid:!1}),n&&n.shouldFocus&&f&&f.focus&&f.focus()},ur=(r,i)=>ee(r)?p.values.subscribe({next:n=>r(v(void 0,i),n)}):v(r,i,!0),we=(r,i={})=>{for(const n of r?Fe(r):x.mount)x.mount.delete(n),x.array.delete(n),i.keepValue||(k(c,n),k(l,n)),!i.keepError&&k(t.errors,n),!i.keepDirty&&k(t.dirtyFields,n),!i.keepTouched&&k(t.touchedFields,n),!i.keepIsValidating&&k(t.validatingFields,n),!s.shouldUnregister&&!i.keepDefaultValue&&k(o,n);p.values.next({values:{...l}}),p.state.next({...t,...i.keepDirty?{isDirty:g()}:{}}),!i.keepIsValid&&W()},Le=({disabled:r,name:i,field:n,fields:f,value:u})=>{if(X(r)&&y.mount||r){const d=r?void 0:A(u)?Se(n?n._f:h(f,i)._f):u;N(l,i,d),J(i,d,!1,!1,!0)}},_e=(r,i={})=>{let n=h(c,r);const f=X(i.disabled);return N(c,r,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:r}},name:r,mount:!0,...i}}),x.mount.add(r),n?Le({field:n,disabled:i.disabled,name:r,value:i.value}):_(r,!0,i.value),{...f?{disabled:i.disabled}:{},...s.progressive?{required:!!i.required,min:ue(i.min),max:ue(i.max),minLength:ue(i.minLength),maxLength:ue(i.maxLength),pattern:ue(i.pattern)}:{},name:r,onChange:ce,onBlur:ce,ref:u=>{if(u){_e(r,i),n=h(c,r);const d=A(u.value)&&u.querySelectorAll&&u.querySelectorAll("input,select,textarea")[0]||u,m=Dr(d),j=n._f.refs||[];if(m?j.find(V=>V===d):d===n._f.ref)return;N(c,r,{_f:{...n._f,...m?{refs:[...j.filter(De),d,...Array.isArray(h(o,r))?[{}]:[]],ref:{type:d.type,name:r}}:{ref:d}}}),_(r,!1,void 0,d)}else n=h(c,r,{}),n._f&&(n._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(br(x.array,r)&&y.action)&&x.unMount.add(r)}}},Pe=()=>s.shouldFocusError&&fe(c,oe,x.mount),fr=r=>{X(r)&&(p.state.next({disabled:r}),fe(c,(i,n)=>{const f=h(c,n);f&&(i.disabled=f._f.disabled||r,Array.isArray(f._f.refs)&&f._f.refs.forEach(u=>{u.disabled=f._f.disabled||r}))},0,!1))},Ue=(r,i)=>async n=>{let f;n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let u=I(l);if(p.state.next({isSubmitting:!0}),s.resolver){const{errors:d,values:m}=await Z();t.errors=d,u=m}else await U(c);if(k(t.errors,"root"),q(t.errors)){p.state.next({errors:{}});try{await r(u,n)}catch(d){f=d}}else i&&await i({...t.errors},n),Pe(),setTimeout(Pe);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(t.errors)&&!f,submitCount:t.submitCount+1,errors:t.errors}),f)throw f},xr=(r,i={})=>{h(c,r)&&(A(i.defaultValue)?B(r,I(h(o,r))):(B(r,i.defaultValue),N(o,r,I(i.defaultValue))),i.keepTouched||k(t.touchedFields,r),i.keepDirty||(k(t.dirtyFields,r),t.isDirty=i.defaultValue?g(r,I(h(o,r))):g()),i.keepError||(k(t.errors,r),w.isValid&&W()),p.state.next({...t}))},Be=(r,i={})=>{const n=r?I(r):o,f=I(n),u=q(r),d=u?o:f;if(i.keepDefaultValues||(o=n),!i.keepValues){if(i.keepDirtyValues)for(const m of x.mount)h(t.dirtyFields,m)?N(d,m,h(l,m)):B(m,h(d,m));else{if(Ee&&A(r))for(const m of x.mount){const j=h(c,m);if(j&&j._f){const V=Array.isArray(j._f.refs)?j._f.refs[0]:j._f.ref;if(be(V)){const O=V.closest("form");if(O){O.reset();break}}}}c={}}l=e.shouldUnregister?i.keepDefaultValues?I(o):{}:I(d),p.array.next({values:{...d}}),p.values.next({values:{...d}})}x={mount:i.keepDirtyValues?x.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},y.mount=!w.isValid||!!i.keepIsValid||!!i.keepDirtyValues,y.watch=!!e.shouldUnregister,p.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:u?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!re(r,o)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:u?[]:i.keepDirtyValues?i.keepDefaultValues&&l?pe(o,l):t.dirtyFields:i.keepDefaultValues&&r?pe(o,r):{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ie=(r,i)=>Be(ee(r)?r(l):r,i);return{control:{register:_e,unregister:we,getFieldState:qe,handleSubmit:Ue,setError:Re,_executeSchema:Z,_getWatch:v,_getDirty:g,_updateValid:W,_removeUnmounted:ye,_updateFieldArray:b,_updateDisabledField:Le,_getFieldArray:F,_reset:Be,_resetDefaultValues:()=>ee(s.defaultValues)&&s.defaultValues().then(r=>{Ie(r,s.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:r=>{t={...t,...r}},_disableForm:fr,_subjects:p,_proxyFormState:w,_setErrors:P,get _fields(){return c},get _formValues(){return l},get _state(){return y},set _state(r){y=r},get _defaultValues(){return o},get _names(){return x},set _names(r){x=r},get _formState(){return t},set _formState(r){t=r},get _options(){return s},set _options(r){s={...s,...r}}},trigger:de,register:_e,handleSubmit:Ue,watch:ur,setValue:B,getValues:Oe,reset:Ie,resetField:xr,clearErrors:dr,unregister:we,setError:Re,setFocus:(r,i={})=>{const n=h(c,r),f=n&&n._f;if(f){const u=f.refs?f.refs[0]:f.ref;u.focus&&(u.focus(),i.shouldSelect&&u.select())}},getFieldState:qe}}function qr(e={}){const s=$.useRef(),t=$.useRef(),[c,o]=$.useState({isDirty:!1,isValidating:!1,isLoading:ee(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ee(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Or(e),formState:c});const l=s.current.control;return l._options=e,wr({subject:l._subjects.state,next:y=>{Nr(y,l._proxyFormState,l._updateFormState)&&o({...l._formState})}}),$.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),$.useEffect(()=>{if(l._proxyFormState.isDirty){const y=l._getDirty();y!==c.isDirty&&l._subjects.state.next({isDirty:y})}},[l,c.isDirty]),$.useEffect(()=>{e.values&&!re(e.values,t.current)?(l._reset(e.values,l._options.resetOptions),t.current=e.values,o(y=>({...y}))):l._resetDefaultValues()},[e.values,l]),$.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),$.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),$.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),s.current.formState=jr(c,l),s.current}const Rr=({cartItems:e})=>{const s=e.reduce((o,l)=>o+l.price*l.quantity,0),t=e[0],c=rr();return a.jsx("div",{className:"modal-container",children:a.jsxs("div",{className:"bg-pureWhite max-w-[327px] md:max-w-[540px] mx-auto px-8 rounded-lg",children:[a.jsx("img",{className:"pt-8 mb-6",src:"/assets/checkout/icon-order-confirmation.svg",alt:"checkmark"}),a.jsx("h3",{className:"text-h5 uppercase mb-4",children:"Thank you for your order"}),a.jsx("p",{className:"text-body opacity-50 mb-6",children:"You will receive an email confirmation shortly."}),a.jsxs("div",{children:[a.jsxs("div",{className:"bg-paleSilver rounded-t p-6 rounded-b",children:[a.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-lightGray mb-3",children:[a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("img",{className:"w-[50px] h-[50px] object-fit",src:t.image.cart,alt:t.name}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("p",{className:"text-mobileMenu",children:t.name.replace(/(headphones|speaker|earphones)/i,"").replace(/(mark)/i,"MK").replace(/(wireless)/i,"").trim()}),a.jsxs("p",{className:"text-mobileMenu opacity-50",children:["$ ",t.price]})]})]}),a.jsxs("p",{className:"font-bold opacity-50",children:["x ",t.quantity]})]}),e.length>1&&a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-[12px] font-bold opacity-50",children:["and ",e.length-1," other item(s)"]})})]}),a.jsxs("div",{className:"bg-black px-6 py-4 rounded-b mb-6",children:[a.jsx("h5",{className:"opacity-50 text-white uppercase mb-2",children:"Grand Total"}),a.jsxs("p",{className:"text-white text-h6",children:["$ ",s]})]})]}),a.jsx("button",{className:"w-full bg-brightOrange hover:bg-brightOrangeHover transition-colors duration-300 uppercase text-subtitle text-pureWhite py-[15px] mb-8",whilehover:{scale:1},whiletap:{scale:.9},transition:{duration:.3},onClick:()=>c("/"),children:"Back To Home"})]})})},er=({onClick:e})=>a.jsx("div",{className:"fixed inset-0 bg-black opacity-40 z-40 transition-colors duration-300",onClick:e,initial:{opacity:0},animate:{opacity:.4},exit:{opacity:0}}),Ir=()=>{var se,W,H,b,L,P,_,J;const e=rr(),[s,t]=me.useState([]),[c,o]=me.useState(!1);me.useEffect(()=>{const S=JSON.parse(localStorage.getItem("cartItems"))||[];t(S)},[]);const{register:l,handleSubmit:y,formState:{errors:x}}=qr(),[M,R]=me.useState("eMoney"),w=S=>{R(S.target.value)},p=s.reduce((S,Z)=>S+Z.price*Z.quantity,0),te=Math.floor(p/100*20),K=p+50,C=()=>{o(!0)};return a.jsxs("div",{className:"bg-paleGray pb-24",children:[c&&a.jsx(er,{onClick:()=>o(!1),showBlur:!0}),a.jsx("div",{className:"container mx-auto pt-4 md:pt-8 mb-6 lg:pt-20 lg:mb-14 md:max-w-[689px] lg:max-w-[1110px] opacity-50",children:a.jsx("a",{className:" cursor-pointer text-body hover:underline",onClick:()=>e(-1),children:"Go Back"})}),a.jsxs("form",{className:"mx-2 flex flex-col lg:flex-row lg:gap-[30px] lg:mx-auto lg:max-w-[1110px] lg:px-2",children:[a.jsxs("div",{className:"container mx-auto max-w-[327px] md:max-w-[689px] lg:max-w-[730px] bg-white px-6 pt-6 pb-8 rounded-lg mb-8 lg:mb-[141px]",children:[a.jsx("h2",{className:"text-h4 uppercase mb-8",children:"Checkout"}),a.jsx("h3",{className:"text-brightOrange text-subtitle uppercase mb-4",children:"Billing Details"}),a.jsxs("div",{className:"flex flex-col gap-6 mb-8 md:grid md:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("label",{className:"text-[12px] font-bold",children:"Name"}),((se=x.name)==null?void 0:se.type)==="required"&&a.jsx("p",{className:"text-error text-[12px]",children:"This field is required"})]}),a.jsx("input",{className:`border rounded-lg focus:outline-none pl-4 py-2 placeholder:text-[14px] ${x.name?"border-red-500":"border-silver"}`,placeholder:"Alexei Ward",...l("name",{required:!0})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("label",{className:"text-[12px] font-bold",children:"Email Address"}),((W=x.email)==null?void 0:W.type)==="required"&&a.jsx("p",{className:"text-error text-[12px]",children:"This field is required"}),((H=x.email)==null?void 0:H.type)==="pattern"&&a.jsx("p",{className:"text-error text-[12px]",children:"Wrong format"})]}),a.jsx("input",{className:`border rounded-lg focus:outline-none pl-4 py-2 placeholder:text-[14px] ${x.email?"border-red-500":"border-silver"}`,placeholder:"alexei@mail.com",...l("email",{required:!0,pattern:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/i})})]}),a.jsx("div",{children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("label",{className:"text-[12px] font-bold",children:"Phone"}),((b=x.phone)==null?void 0:b.type)==="required"&&a.jsx("p",{className:"text-error text-[12px]",children:"This field is required"})]}),a.jsx("input",{className:`border rounded-lg focus:outline-none pl-4 py-2 placeholder:text-[14px] ${x.phone?"border-red-500":"border-silver"}`,placeholder:"+1 202-555-0136",...l("phone",{required:!0})})]})})]}),a.jsx("h3",{className:"text-brightOrange text-subtitle uppercase mb-4",children:"Shipping Info"}),a.jsxs("div",{className:"flex flex-col gap-6 mb-8",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("label",{className:"text-[12px] font-bold",children:"Your Address"}),((L=x.address)==null?void 0:L.type)==="required"&&a.jsx("p",{className:"text-error text-[12px]",children:"This field is required"})]}),a.jsx("input",{className:`border rounded-lg focus:outline-none pl-4 py-2 placeholder:text-[14px] ${x.address?"border-red-500":"border-silver"}`,placeholder:"1137 Williams Avenue",...l("address",{required:!0})})]}),a.jsxs("div",{className:"flex flex-col gap-6 md:grid md:grid-cols-2 md:gap-6",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("label",{className:"text-[12px] font-bold",children:"Zip Code"}),((P=x.name)==null?void 0:P.type)==="required"&&a.jsx("p",{className:"text-error text-[12px]",children:"This field is required"})]}),a.jsx("input",{className:`border rounded-lg focus:outline-none pl-4 py-2 placeholder:text-[14px] ${x.zipCode?"border-red-500":"border-silver"}`,placeholder:"10001",...l("zipCode",{required:!0})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("label",{className:"text-[12px] font-bold",children:"City"}),((_=x.name)==null?void 0:_.type)==="required"&&a.jsx("p",{className:"text-error text-[12px]",children:"This field is required"})]}),a.jsx("input",{className:`border rounded-lg focus:outline-none pl-4 py-2 placeholder:text-[14px] ${x.city?"border-red-500":"border-silver"}`,placeholder:"New York",...l("city",{required:!0})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("label",{className:"text-[12px] font-bold",children:"Country"}),((J=x.country)==null?void 0:J.type)==="required"&&a.jsx("p",{className:"text-error text-[12px]",children:"This field is required"})]}),a.jsx("input",{className:`border rounded-lg focus:outline-none pl-4 py-2 placeholder:text-[14px] ${x.address?"border-red-500":"border-silver"}`,placeholder:"United States",...l("country",{required:!0})})]})]})]}),a.jsx("h3",{className:"text-brightOrange text-subtitle uppercase mb-4",children:"Payment Details"}),a.jsxs("div",{className:"md:grid md:grid-cols-2",children:[a.jsx("h2",{className:"font-bold text-[12px]",children:"Payment Method"}),a.jsxs("div",{children:[a.jsx("div",{className:"flex flex-col",children:a.jsxs("div",{className:"md:-mt-4",children:[a.jsx("input",{type:"radio",id:"eMoney",value:"eMoney",...l("paymentMethod"),checked:M==="eMoney",onChange:w}),a.jsx("label",{htmlFor:"eMoney",className:"cursor-pointer text-[14px] border border-silver flex items-center truncate font-semibold rounded-lg py-2 pl-[52px]",children:"e-Money"})]})}),a.jsxs("div",{children:[a.jsx("input",{type:"radio",id:"cashOnDelivery",value:"cashOnDelivery",...l("paymentMethod"),checked:M==="cashOnDelivery",onChange:w}),a.jsx("label",{htmlFor:"cashOnDelivery",className:"cursor-pointer text-[14px] border border-silver flex items-center truncate font-semibold rounded-lg py-2 pl-[52px]",children:"Cash On Delivery"})]})]})]}),x.paymentMethod&&a.jsx("p",{children:x.paymentMethod.message}),M==="eMoney"&&a.jsxs("div",{className:"mt-8 flex flex-col gap-6 md:grid md:grid-cols-2 transition-colors duration-300",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("label",{className:"text-[12px] font-bold",children:"e-Money Number"}),x.eMoneyNumber&&a.jsx("p",{className:"text-error text-[12px]",children:"This field is required"})]}),a.jsx("input",{className:`border rounded-lg focus:outline-none pl-4 py-2 placeholder:text-[14px] ${x.eMoneyNumber?"border-red-500":"border-silver"}`,placeholder:"238521993",...l("eMoneyNumber",{required:!0})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("label",{className:"text-[12px] font-bold",children:"e-Money Pin"}),x.eMoneyPin&&a.jsx("p",{className:"text-error text-[12px]",children:"This field is required"})]}),a.jsx("input",{className:`border rounded-lg focus:outline-none pl-4 py-2 placeholder:text-[14px] ${x.eMoneyPin?"border-red-500":"border-silver"}`,placeholder:"6891",...l("eMoneyPin",{required:!0})})]})]}),a.jsxs("div",{className:"hidden lg:flex lg:items-center lg:justify-between lg:gap-8 lg:mt-[30px]",children:[a.jsx("img",{className:"w-[48px] h-[48px]",src:"/assets/checkout/icon-cash-on-delivery.svg",alt:""}),a.jsx("p",{className:"text-body opacity-50",children:"The ‘Cash on Delivery’ option enables you to pay in cash when our delivery courier arrives at your residence. Just make sure your address is correct so that your order will not be cancelled."})]})]}),a.jsxs("div",{className:"container mx-auto max-w-[327px] md:max-w-[689px] lg:max-w-[350px] lg:h-1/2 bg-white px-6 pt-6 pb-8 rounded-lg",children:[a.jsx("h3",{className:"text-h6 uppercase mb-8",children:"Summary"}),a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"cart-items flex flex-col gap-6 mb-8",children:s.map(S=>a.jsxs("div",{className:"cart-item flex justify-between gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"cart-item-image",children:a.jsx("img",{className:"rounded-lg max-w-[64px]",src:S.image.cart,alt:S.name})}),a.jsxs("div",{className:"cart-item-details",children:[a.jsx("h3",{className:"cart-item-title text-mobileMenu mb-1",children:S.name.replace(/(headphones|speaker|earphones)/i,"").replace(/(mark)/i,"MK").replace(/(wireless)/i,"").trim()}),a.jsxs("div",{className:"cart-item-price text-mobileMenu opacity-50",children:["$",S.price]})]})]}),a.jsxs("div",{className:"opacity-50 font-extrabold",children:["x",S.quantity]})]},S.id))}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-body opacity-50 uppercase",children:"Total"}),a.jsxs("span",{className:"text-h6",children:["$ ",p]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-body opacity-50 uppercase",children:"Shipping"}),a.jsx("span",{className:"text-h6",children:"$ 50"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-body opacity-50 uppercase",children:"VAT (Included)"}),a.jsxs("span",{className:"text-h6",children:["$ ",te]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsx("p",{className:"text-body opacity-50 uppercase",children:"Grand total"}),a.jsxs("span",{className:"text-h6 text-brightOrange",children:["$ ",K]})]})]})]}),a.jsx("button",{className:"bg-brightOrange hover:bg-brightOrangeHover transition-colors duration-300 uppercase text-subtitle text-pureWhite py-[15px]",whilehover:{scale:1},whiletap:{scale:.9},transition:{duration:.3},onClick:y(C),children:"Continue & Pay"})]})]})]}),c&&a.jsxs(a.Fragment,{children:[a.jsx(er,{}),a.jsx(Rr,{cartItems:s})]})]})};export{Ir as default};
